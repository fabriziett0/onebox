$(document).ready(function() {
    function e() {
        var e = localStorage.getItem("darkMode");
        if (e === "dark") {
            $("body").addClass("dark-mode");
            $("#toggle-dark-mode-icon").removeClass("fa-moon").addClass("fa-sun");
        }
        var a = localStorage.getItem("layoutMode");
        if (a === "fluid") {
            $(".pageContent").addClass("container-fluid").removeClass("container");
            $("#toggle-container-icon").removeClass("fa-arrows-left-right").addClass("fa-arrows-left-right-to-line");
        }
        var sidebarState = localStorage.getItem("sidebarState");
        if (sidebarState === "closed") {
            $("body").addClass("sidebar-collapse");
        }
    }
    e();

    $("#toggle-container").click(function(e) {
        e.preventDefault();
        $(".pageContent").toggleClass("container-fluid container");
        if ($(".pageContent").hasClass("container-fluid")) {
            $("#toggle-container-icon").removeClass("fa-arrows-left-right").addClass("fa-arrows-left-right-to-line");
            localStorage.setItem("layoutMode", "fluid");
        } else {
            $("#toggle-container-icon").removeClass("fa-arrows-left-right-to-line").addClass("fa-arrows-left-right");
            localStorage.setItem("layoutMode", "standard");
        }
    });

    $("#toggle-fullscreen").click(function(e) {
        e.preventDefault();
        if (document.fullscreenElement) {
            $("#toggle-fullscreen-icon").removeClass("fa-compress").addClass("fa-expand");
            document.exitFullscreen && document.exitFullscreen();
        } else {
            $("#toggle-fullscreen-icon").removeClass("fa-expand").addClass("fa-compress");
            document.documentElement.requestFullscreen();
        }
    });

    $("#toggle-dark-mode").click(function(a) {
        a.preventDefault();
        $("body").toggleClass("dark-mode");
        if ($("body").hasClass("dark-mode")) {
            $("#toggle-dark-mode-icon").removeClass("fa-moon").addClass("fa-sun");
            localStorage.setItem("darkMode", "dark");
        } else {
            $("#toggle-dark-mode-icon").removeClass("fa-sun").addClass("fa-moon");
            localStorage.setItem("darkMode", "light");
        }
    });

    $("[data-widget='pushmenu']").click(function() {
        var bodyClass = $("body").hasClass("sidebar-collapse") ? "open" : "closed";
        localStorage.setItem("sidebarState", bodyClass);
    });
    $(function () {
        $('[data-toggle="tooltip"]').tooltip()
      })
});

history.pushState(null,null,location.href);window.addEventListener("popstate",function(event){history.pushState(null,null,location.href);});
document.addEventListener("DOMContentLoaded",function(){document.body.style.opacity="1";});
// window.onpageshow=function(e){e.persisted&&window.location.reload();};